<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>המסך המפוצל הישראלי – Streams</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      background: #18191a;
      font-family: "Segoe UI", Arial, sans-serif;
      user-select: none;
      overflow: hidden;
    }
    #header {
      position: fixed;
      top: 0; left: 0; right: 0;
      padding: 18px 0 10px;
      text-align: center;
      font-size: 2.1rem;
      background: rgba(15,15,16,0.94);
      color: #d1d5db;
      letter-spacing: 2px;
      border-bottom: 1px solid #222;
      z-index: 100;
    }
    .window {
      position: absolute;
      background: #232428;
      border-radius: 13px;
      border: 1.5px solid #222;
      box-shadow: 0 2px 14px rgba(0,0,0,0.44);
      min-width: 170px;  min-height: 110px;
      width: 370px;      height: 208px;
      display: flex;     flex-direction: column;
      transition: box-shadow .14s, border .14s;
    }
    .window.active {
      border: 2.2px solid #3fa5fa;
      box-shadow: 0 4px 30px #0051d627, 0 1.5px 12px #2229;
      z-index: 200;
    }
    .winbar {
      height: 33px;
      background: #17171a;
      color: #f4f6fa;
      font-size: 15.5px;  font-weight: 600;
      padding-left: 13px;
      display: flex;      align-items: center;
      border-bottom: 1px solid #232323;
      cursor: grab;
      user-select: none;
    }
    .stream-wrap { flex:1; background:#141516; }
    .stream-wrap iframe {
      width:100%; height:100%; border:none; background:#000;
      display:block;
    }
    .window.resize-n { cursor: n-resize; }
    .window.resize-s { cursor: s-resize; }
    .window.resize-e { cursor: e-resize; }
    .window.resize-w { cursor: w-resize; }
    .window.resizing { transition: none; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
</head>
<body>
  <div id="header">המסך המפוצל הישראלי – Streams</div>

  <!-- FIXED starting positions: -->
  <div class="window" style="left:20px; top:80px;">
    <div class="winbar">ערוץ 12</div>
    <div class="stream-wrap">
      <iframe src="https://www.livehdtv.com/embed/channel-12-live-stream-from-isreal/" allowfullscreen></iframe>
    </div>
  </div>

  <div class="window" style="left:420px; top:80px;">
    <div class="winbar">ערוץ 14</div>
    <div class="stream-wrap">
      <iframe src="https://www.livehdtv.com/embed/channel-14-isreal-live/" allowfullscreen></iframe>
    </div>
  </div>

  <div class="window" style="left:820px; top:80px;">
    <div class="winbar">כאן 11</div>
    <div class="stream-wrap">
      <iframe src="https://www.livehdtv.com/embed/kan-11-live-stream-israel/" allowfullscreen></iframe>
    </div>
  </div>

  <div class="window" style="left:20px; top:320px;">
    <div class="winbar">i24news (EN)</div>
    <div class="stream-wrap">
      <iframe src="https://www.livehdtv.com/embed/i24news-live-stream-israel/" allowfullscreen></iframe>
    </div>
  </div>

  <div class="window" style="left:420px; top:340px;">
    <div class="winbar">i24news (HE)</div>
    <div class="stream-wrap">
      <iframe src="https://www.livehdtv.com/embed/i24news-hebrew/" allowfullscreen></iframe>
    </div>
  </div>

  <div class="window" style="left:820px; top:360px;">
    <div class="winbar">ערוץ 13</div>
    <div class="stream-wrap">
      <iframe src="https://www.livehdtv.com/embed/channel-13-live/" allowfullscreen></iframe>
    </div>
  </div>

  <script>
    // bring clicked window to front
    let z=200;
    document.querySelectorAll('.window').forEach(w=>{
      w.addEventListener('mousedown',()=>{
        document.querySelectorAll('.window').forEach(x=>x.classList.remove('active'));
        w.classList.add('active');
        w.style.zIndex = ++z;
      });
      w.addEventListener('touchstart',()=>{
        document.querySelectorAll('.window').forEach(x=>x.classList.remove('active'));
        w.classList.add('active');
        w.style.zIndex = ++z;
      },{passive:true});
    });

    // DRAG: from title bar only → update left/top
    interact('.window').draggable({
      inertia:true,
      allowFrom:'.winbar',
      listeners:{
        move(event){
          const t=event.target;
          const l=parseFloat(t.style.left)||0, t0=parseFloat(t.style.top)||0;
          t.style.left = (l + event.dx)+'px';
          t.style.top  = (t0 + event.dy)+'px';
        }
      }
    });

    // RESIZE: edges only → update width/height and left/top if left/top edge
    interact('.window').resizable({
      edges:{left:true,right:true,top:true,bottom:true},
      inertia:true,
      listeners:{
        move(event){
          const t=event.target;
          let l=parseFloat(t.style.left)||0, tp=parseFloat(t.style.top)||0;
          let w=event.rect.width, h=event.rect.height;
          if(event.edges.left)  l+=event.deltaRect.left;
          if(event.edges.top)   tp+=event.deltaRect.top;
          // clamp
          w=Math.max(170,Math.min(900,w));
          h=Math.max(110,Math.min(500,h));
          t.style.width=w+'px';
          t.style.height=h+'px';
          t.style.left=l+'px';
          t.style.top=tp+'px';
          // cursor class
          t.classList.remove('resize-n','resize-s','resize-e','resize-w');
          if(event.edges.top)    t.classList.add('resize-n');
          if(event.edges.bottom) t.classList.add('resize-s');
          if(event.edges.left)   t.classList.add('resize-w');
          if(event.edges.right)  t.classList.add('resize-e');
        },
        end(event){
          event.target.classList.remove('resize-n','resize-s','resize-e','resize-w');
        }
      }
    });
  </script>
</body>
</html>
